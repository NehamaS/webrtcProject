"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RequestHeader = void 0;
const common_1 = require("@nestjs/common");
const class_transformer_1 = require("class-transformer");
const class_validator_1 = require("class-validator");
exports.RequestHeader = (0, common_1.createParamDecorator)(async (value, ctx) => {
    const headers = ctx.switchToHttp().getRequest().headers;
    const dto = (0, class_transformer_1.plainToClass)(value, headers, { excludeExtraneousValues: false });
    let validation = await (0, class_validator_1.validateOrReject)(dto);
    return dto;
});
//# sourceMappingURL=headers.decoder.js.map