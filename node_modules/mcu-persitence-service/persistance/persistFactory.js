"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PersistFactory = void 0;
const common_1 = require("../common/common");
const consul_1 = require("../lib/consul/consul");
const etcd_1 = require("../lib/etcd/etcd");
const inMemDB_1 = require("../lib/memory/inMemDB");
class PersistFactory {
    constructor(logger, options) {
        this.logger = logger;
        this.options = options;
        this.getDB = () => {
            switch (this.options.type) {
                case common_1.DBType.CONSUL:
                    return new consul_1.ConsulKV(this.logger, this.options.prefix);
                case common_1.DBType.INMEM:
                    return new inMemDB_1.InMemDB(this.logger, this.options.prefix);
                default:
                    return new etcd_1.EtcdDB(this.logger, this.options);
            }
        };
    }
}
exports.PersistFactory = PersistFactory;
//# sourceMappingURL=persistFactory.js.map